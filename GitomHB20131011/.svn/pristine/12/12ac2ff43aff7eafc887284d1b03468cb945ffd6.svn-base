//
//  MyDocumentVC.m
//  GitomNetLjw
//
//  Created by GitomYiwan on 13-7-6.
//  Copyright (c) 2013年 Gitom. All rights reserved.
//

#import "MyDocumentVC.h"

#import "UserModel.h"
#import "UserManager.h"


@interface MyDocumentVC ()

@end

@implementation MyDocumentVC

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
        self.title = @"我的资料";
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
	//创建基本信息栏
    [self creatBaseInformationViews];
    
    //
    [self loadImage];
    
}

//连接图片
- (void)loadImage
{
    //获得头像信息
    GetCommonDataModel;
    NSString *imgUrl = comData.userModel.photo;
    NSLog(@"imgUrl==%@",imgUrl);
    NSURL *url = [NSURL URLWithString:[imgUrl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];
    NSData *pthotoData  = [NSData dataWithContentsOfURL:url];
    self.headImage.image = [UIImage imageWithData:pthotoData];
        
}

//基本信息
- (void)creatBaseInformationViews
{
    UIView *baseInformaton = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 320, 80)];
    baseInformaton.backgroundColor = [UIColor colorWithRed:176/255.0 green:196/255.0 blue:222/255.0 alpha:1];//RGB(176,196,222)
    [self.view addSubview:baseInformaton];
    
    [baseInformaton release];
    
    
    UIImageView * tempHeadImageView= [[UIImageView alloc]initWithFrame:CGRectMake(10, 10, 60, 60)];
    self.headImage = tempHeadImageView;
    self.headImage.backgroundColor = [UIColor grayColor];
    [baseInformaton addSubview:self.headImage];
    [tempHeadImageView release];
    
    UIView *link = [[UIView alloc]initWithFrame:CGRectMake(85, 39, 210, 2)];
    link.backgroundColor = [UIColor colorWithRed:119/255.0 green:136/255.0 blue:153/255.0 alpha:1];//RGB(119,136,153)（浅石板灰）
    [baseInformaton addSubview:link];
    [link release];
    
    UILabel *nameLB1 = [[UILabel alloc]initWithFrame:CGRectMake(85, 10, 60, 25)];
    nameLB1.textAlignment = NSTextAlignmentCenter;
    nameLB1.text = @"姓名:";
    nameLB1.backgroundColor = [UIColor clearColor];
    [baseInformaton addSubview:nameLB1];
    [nameLB1 release];
    
    UILabel *nameLB2 = [[UILabel alloc]initWithFrame:CGRectMake(85, 45, 60, 25)];
    nameLB2.text = @"电话:";
    nameLB2.backgroundColor = [UIColor clearColor];
    nameLB2.textAlignment = NSTextAlignmentCenter;
    [baseInformaton addSubview:nameLB2];
    [nameLB2 release];
    
    //可编辑名字
    _name = [[UITextField alloc]initWithFrame:CGRectMake(140, 10, 80, 25)];
    [baseInformaton addSubview:self.name];
    _name.backgroundColor = [UIColor whiteColor];
    GetCommonDataModel;
    _name.text = comData.userModel.realname;
    
    
    //可编辑号码
    UITextField * tempPhoneNumber    = [[UITextField alloc]initWithFrame:CGRectMake(140, 45, 30, 25)];
    tempPhoneNumber.text = comData.userModel.cellphone;
    self.phoneNumber = tempPhoneNumber;
    
    [baseInformaton addSubview:self.phoneNumber];
    
    [tempPhoneNumber release];
}


- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)dealloc
{
    [_name release];
    [_phoneNumber release];
    [_headImage release];
    [super dealloc];
}


@end
